# ======================================
# RELEASE NOTES GENERATOR - ENVIRONMENT CONFIGURATION
# ======================================

# Database (Supabase)
# Get these from https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Azure OpenAI (Recommended)
# Create Azure OpenAI resource: https://portal.azure.com
AZURE_OPENAI_API_KEY=your_azure_openai_api_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o-mini
AZURE_OPENAI_API_VERSION=2024-06-01

# Email Service (Resend)
# Get API key from https://resend.com/api-keys
RESEND_API_KEY=your_resend_api_key
RESEND_FROM_EMAIL=noreply@yourdomain.com
EMAIL_FROM=noreply@yourdomain.com

# Authentication & Security
JWT_SECRET=your_super_secure_jwt_secret_key_here
SESSION_SECRET=your_super_secure_session_secret_here
BCRYPT_ROUNDS=12

# Application URLs
SERVER_HOST=http://localhost:3001
CLIENT_HOST=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Azure Storage (Optional - for file uploads)
# Create storage account: https://portal.azure.com
AZURE_STORAGE_ACCOUNT_NAME=your_storage_account
AZURE_STORAGE_ACCOUNT_KEY=your_storage_key
AZURE_STORAGE_CONTAINER_NAME=release-notes-files

# ======================================
# INTEGRATION CREDENTIALS (Optional)
# ======================================

# GitHub Integration
# Create OAuth App: https://github.com/settings/applications/new
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URL=http://localhost:3000/api/auth/github/callback

# Jira Integration  
# Create OAuth 2.0 App: https://developer.atlassian.com/cloud/jira/platform/oauth-2-3lo-apps/
JIRA_CLIENT_ID=your_jira_client_id
JIRA_CLIENT_SECRET=your_jira_client_secret
JIRA_REDIRECT_URL=http://localhost:3000/api/auth/jira/callback

# Linear Integration
# Create OAuth App: https://linear.app/settings/api
LINEAR_CLIENT_ID=your_linear_client_id
LINEAR_CLIENT_SECRET=your_linear_client_secret
LINEAR_REDIRECT_URL=http://localhost:3000/api/auth/linear/callback

# Slack Integration (Optional)
# Create Slack App: https://api.slack.com/apps
SLACK_CLIENT_ID=your_slack_client_id
SLACK_CLIENT_SECRET=your_slack_client_secret
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your_signing_secret
SLACK_REDIRECT_URL=http://localhost:3000/api/auth/slack/callback

# ======================================
# OPTIONAL CONFIGURATIONS
# ======================================

# Environment
NODE_ENV=development
PORT=3001
LOG_LEVEL=info

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Session Configuration
SESSION_EXPIRY_DAYS=14
COOKIE_DOMAIN=localhost

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload Limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ======================================
# DEVELOPMENT ONLY
# ======================================

# Database Credentials (if using local PostgreSQL instead of Supabase)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=password
POSTGRES_DATABASE=release_notes_dev

# SMTP Fallback (if not using Resend)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# ======================================
# DATABASE PERFORMANCE OPTIMIZATION
# ======================================

# Connection Pool Configuration
DB_POOL_MAX=20                    # Maximum connections in pool
DB_POOL_MIN=2                     # Minimum connections to maintain
DB_IDLE_TIMEOUT=30000             # Idle connection timeout in ms
DB_CONNECTION_TIMEOUT=10000       # Connection timeout in ms
DB_MAX_LIFETIME=600000            # Maximum connection lifetime in ms
DB_REAP_INTERVAL=1000             # Connection reaping interval in ms

# Query Performance Settings
DB_QUERY_TIMEOUT=30000            # Default query timeout in ms
DB_MAX_ROWS=1000                  # Maximum rows per query
DB_ENABLE_CACHING=true            # Enable query result caching
DB_CACHE_TTL=300                  # Cache TTL in seconds
DB_SLOW_QUERY_THRESHOLD=1000      # Log queries slower than this (ms)

# Real-time Configuration
DB_REALTIME_ENABLED=true          # Enable real-time subscriptions
DB_REALTIME_EVENTS_PER_SECOND=10  # Maximum events per second
DB_REALTIME_HEARTBEAT=30000       # Heartbeat interval in ms

# Security Settings
DB_SSL_ENABLED=true               # Enforce SSL connections
DB_RLS_ENABLED=true               # Enable Row Level Security
DB_PREPARED_STATEMENTS=true       # Use prepared statements

# Monitoring and Debugging
DB_LOG_CONNECTIONS=false          # Log connection events (dev only)
DB_METRICS_INTERVAL=60000         # Metrics collection interval in ms